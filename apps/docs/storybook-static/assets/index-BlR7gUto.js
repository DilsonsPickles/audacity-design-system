import{j as e}from"./jsx-runtime-BjG_zV1W.js";import{r as $}from"./index-yIsmwZOr.js";var E=({variant:n="secondary",size:o="default",children:s,icon:a,showIcon:t=!0,disabled:r=!1,onClick:c,className:i="",type:l="button"})=>e.jsxs("button",{type:l,className:`button button--${n} button--${o} ${r?"button--disabled":""} ${i}`,onClick:c,disabled:r,children:[t&&a&&e.jsx("span",{className:"button__icon",children:a}),e.jsx("span",{className:"button__text",children:s})]}),I={mixer:"",menu:"",undo:"",redo:"",play:"",pause:"",stop:"",record:"",rewind:"",forward:""},S=({name:n,size:o=16,color:s="#14151a",className:a=""})=>{const t=I[n]||"";return e.jsx("span",{className:`icon musescore-icon ${a}`,style:{fontSize:`${o}px`,color:s},"aria-hidden":"true",children:t})},R=({icon:n="menu",onClick:o,disabled:s=!1,className:a="",ariaLabel:t})=>e.jsx("button",{type:"button",className:`ghost-button ${s?"ghost-button--disabled":""} ${a}`,onClick:o,disabled:s,"aria-label":t,children:e.jsx(S,{name:n,size:16,color:"#949494"})}),D=({value:n=0,onChange:o,className:s="",disabled:a=!1,tabIndex:t=0,id:r})=>{const c=Math.max(-100,Math.min(100,n)),i=c/100*135,l=Math.abs(c/100)*135,_=c<0,v=_?0-l:0,d=_?"#84b5ff":"#677ce4";return e.jsxs("div",{className:`pan-knob ${s}`,children:[e.jsx("div",{className:"pan-knob__gauge"}),c!==0&&e.jsx("div",{className:"pan-knob__value-sweep",style:{background:`conic-gradient(
              from ${v}deg,
              ${d} 0deg,
              ${d} ${l}deg,
              transparent ${l}deg
            )`}}),e.jsxs("div",{className:"pan-knob__knob-group",style:{transform:`rotate(${i}deg)`},children:[e.jsx("div",{className:"pan-knob__dial-border"}),e.jsx("div",{className:"pan-knob__dial",children:e.jsx("div",{className:"pan-knob__indicator"})})]})]})},P=({value:n=50,min:o=0,max:s=100,onChange:a,className:t="",disabled:r=!1,ariaLabel:c="Slider"})=>{const i=Math.max(o,Math.min(s,n)),l=(i-o)/(s-o)*100,_=16,v=d=>{const g=parseInt(d.target.value,10);a==null||a(g)};return e.jsxs("div",{className:`slider ${r?"slider--disabled":""} ${t}`,children:[e.jsx("input",{type:"range",min:o,max:s,value:i,onChange:v,disabled:r,className:"slider__input","aria-label":c}),e.jsx("div",{className:"slider__track",children:e.jsx("div",{className:"slider__fill",style:{width:`${l}%`}})}),e.jsx("div",{className:"slider__handle",style:{left:`calc(${l}% - ${l/100*_}px)`}})]})},w=({active:n=!1,children:o,onClick:s,disabled:a=!1,className:t="",ariaLabel:r})=>e.jsx("button",{type:"button",className:`toggle-button ${n?"toggle-button--active":""} ${a?"toggle-button--disabled":""} ${t}`,onClick:s,disabled:a,"aria-label":r,"aria-pressed":n,children:o}),V=({trackName:n,trackType:o="mono",volume:s=75,pan:a=0,isMuted:t=!1,isSolo:r=!1,onVolumeChange:c,onPanChange:i,onMuteToggle:l,onSoloToggle:_,onEffectsClick:v,onMenuClick:d,className:g="",state:f="idle",height:j="default"})=>{const[y,M]=$.useState(!1),h=f!=="idle"?f:y?"hover":"idle";return e.jsxs("div",{className:`track-control-panel track-control-panel--${h} track-control-panel--${j} ${g}`,onMouseEnter:()=>M(!0),onMouseLeave:()=>M(!1),children:[e.jsxs("div",{className:"track-control-panel__main",children:[e.jsxs("div",{className:"track-control-panel__header",children:[e.jsxs("div",{className:"track-control-panel__track-name",children:[e.jsx("button",{className:"track-control-panel__icon-button","aria-label":"Track icon",children:e.jsx(S,{name:"mixer",size:16})}),e.jsx("span",{className:"track-control-panel__track-name-text",children:n})]}),e.jsx(R,{onClick:d,ariaLabel:"Track menu"})]}),j!=="collapsed"&&e.jsxs("div",{className:"track-control-panel__controls-row",children:[e.jsx(D,{value:a,onChange:i}),e.jsx(P,{value:s,onChange:c,ariaLabel:"Volume"}),e.jsxs("div",{className:"track-control-panel__button-group",children:[e.jsx(w,{active:t,onClick:l,ariaLabel:"Mute",children:"M"}),e.jsx(w,{active:r,onClick:_,ariaLabel:"Solo",children:"S"})]})]}),j==="default"&&e.jsx(E,{variant:"secondary",size:"small",onClick:v,showIcon:!1,children:"Effects"})]}),j!=="collapsed"&&e.jsx("div",{className:"track-control-panel__meter",children:e.jsxs("div",{className:"track-control-panel__meter-bar",children:[e.jsx("div",{className:"track-control-panel__meter-clip"}),e.jsx("div",{className:"track-control-panel__meter-main"})]})})]})},z=({children:n,initialHeight:o=114,minHeight:s=44,maxHeight:a,resizeEdge:t="bottom",resizeThreshold:r=8,onHeightChange:c,onResizeStart:i,onResizeEnd:l,className:_="",isFirstPanel:v=!1})=>{const[d,g]=$.useState(o),[f,j]=$.useState(!1),[y,M]=$.useState(!1),h=$.useRef(null);$.useEffect(()=>{if(!f)return;const p=m=>{if(h.current){const b=m.clientY-h.current.y;let u=h.current.height+b;u=Math.max(s,u),a!==void 0&&(u=Math.min(a,u)),g(u),c==null||c(u)}},N=()=>{j(!1),h.current=null,l==null||l()};return document.addEventListener("mousemove",p),document.addEventListener("mouseup",N),()=>{document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",N)}},[f,s,a,c,l]);const L=p=>{if(!f){const N=p.currentTarget.getBoundingClientRect(),m=p.clientY-N.top,b=v?2:0,u=b+d;let x=!1;if(t==="bottom"||t==="both"){const k=u-r;x=m>=k&&m<=u}if(!x&&(t==="top"||t==="both")){const k=b+r;x=m>=b&&m<=k}M(x)}},B=p=>{const N=p.currentTarget.getBoundingClientRect(),m=p.clientY-N.top,b=v?2:0,u=b+d;let x=!1;if(t==="bottom"||t==="both"){const k=u-r;x=m>=k&&m<=u}if(!x&&(t==="top"||t==="both")){const k=b+r;x=m>=b&&m<=k}x&&(p.preventDefault(),p.stopPropagation(),j(!0),h.current={y:p.clientY,height:d},i==null||i())},C=()=>{f||M(!1)};return e.jsx("div",{className:`resizable-panel ${_}`,style:{marginTop:v?"2px":"0",marginBottom:"2px",position:"relative"},children:e.jsx("div",{className:`resizable-panel__content ${y?"resizable-panel__content--resize-cursor":""}`,style:{height:`${d}px`,cursor:y?"ns-resize":"default",position:"relative"},onMouseMove:L,onMouseDown:B,onMouseLeave:C,children:n})})};export{E as B,R as G,S as I,D as P,z as R,P as S,V as T,w as a};
