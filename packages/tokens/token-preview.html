<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Design Tokens v2 - Preview</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Inter', sans-serif;
      padding: 40px;
      background: #f5f5f5;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
    }

    h1 {
      font-size: 32px;
      font-weight: 700;
      margin-bottom: 16px;
    }

    h2 {
      font-size: 24px;
      font-weight: 700;
      margin: 40px 0 20px;
    }

    h3 {
      font-size: 16px;
      font-weight: 600;
      margin: 24px 0 12px;
      opacity: 0.8;
    }

    .theme-switcher {
      margin: 24px 0;
      display: flex;
      gap: 8px;
    }

    .theme-btn {
      padding: 8px 16px;
      border: none;
      border-radius: 4px;
      font-weight: 600;
      cursor: pointer;
      font-size: 14px;
    }

    .theme-btn.active {
      background: #4a90e2;
      color: white;
    }

    .theme-btn:not(.active) {
      background: #e0e0e5;
      color: #333;
    }

    .section {
      margin-bottom: 48px;
    }

    .swatches {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      gap: 16px;
      margin-bottom: 24px;
    }

    .swatch {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .swatch-color {
      height: 60px;
      border-radius: 4px;
      border: 1px solid rgba(0,0,0,0.1);
    }

    .swatch-label {
      font-size: 11px;
      font-weight: 600;
    }

    .swatch-value {
      font-size: 10px;
      opacity: 0.6;
      font-family: 'Monaco', 'Courier New', monospace;
    }

    .clip-colors {
      margin-bottom: 32px;
    }

    .clip-color-name {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 12px;
      text-transform: capitalize;
    }

    .clip-swatches {
      display: grid;
      grid-template-columns: repeat(6, 1fr);
      gap: 8px;
    }

    .clip-swatch {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .clip-swatch-color {
      height: 40px;
      border-radius: 2px;
      border: 1px solid rgba(0,0,0,0.1);
    }

    .clip-swatch-label {
      font-size: 9px;
      opacity: 0.7;
    }

    .semantic-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 16px;
    }

    .semantic-card {
      padding: 16px;
      border-radius: 8px;
      border: 2px solid;
    }

    .semantic-title {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 12px;
    }

    .semantic-details {
      font-size: 10px;
      opacity: 0.8;
      line-height: 1.6;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Design Tokens v2 - Visual Preview</h1>
    <p style="margin-bottom: 24px; opacity: 0.8;">Interactive preview of all ~200 tokens for Audacity 4. Switch themes to compare.</p>

    <div class="theme-switcher">
      <button class="theme-btn active" onclick="switchTheme('light')">Light Theme</button>
      <button class="theme-btn" onclick="switchTheme('dark')">Dark Theme</button>
    </div>

    <div id="content">
      <!-- Content will be generated by JavaScript -->
    </div>
  </div>

  <script type="module">
    // Import token themes (Note: this needs to be adjusted for actual import)
    const lightTheme = {
      background: {
        surface: {
          default: '#F8F8F9',        // Updated from #F9F9FA
          elevated: '#E3E3E8',       // Updated from #FFFFFF
          subtle: '#EEEEF1',         // Updated from #EBEDF0
          hover: '#F2F2F7',          // Updated from #F2F3F5
        },
        canvas: {
          default: '#252837',        // Updated from #212433
        },
        control: {
          button: {
            secondary: {
              idle: '#D3D4DC',       // Updated from #EBEDF0
              hover: '#DFE2E7',
              active: '#C8CAD3',
            },
            ghost: {
              idle: 'transparent',
              hover: '#E3E3E8',      // Updated from #F2F3F5
              active: '#D3D4DC',     // Updated from #EBEDF0
            },
          },
          slider: {
            track: '#CFCFD9',        // Updated from #EBEDF0
            handle: {
              background: '#F8F8F9', // Updated from #E3E3E8
              border: '#5B5B5F',
            },
          },
          panKnob: {
            face: '#F8F8F9',
            border: '#818185',
            gauge: '#CFCFD9',
          },
        },
      },
      foreground: {
        text: {
          primary: '#14151A',
          secondary: '#6F788F',
          tertiary: '#949CAC',
        },
      },
      border: {
        default: '#DFE2E7',
        onElevated: '#D4D5D9',     // New token
        onSurface: '#E9E9E9',      // New token
      },
      audio: {
        timeline: {
          tickMajor: '#828387',    // Updated from #4D515C
          tickMinor: '#828387',
        },
        clip: {
          blue: {
            header: '#84B5FF',
            headerHover: '#66A3FF',
            body: '#A2C7FF',
            headerSelected: '#DEEBFF',
            headerSelectedHover: '#F2F7FF',
            bodySelected: '#C0D9FF',
          },
          violet: {
            header: '#ADABFC',
            headerHover: '#9996FC',
            body: '#C1BFFE',
            headerSelected: '#E9E8FF',
            headerSelectedHover: '#F7F6FF',
            bodySelected: '#D5D3FE',
          },
        },
      },
    };

    const darkTheme = {
      background: {
        surface: {
          default: '#25262b',
          elevated: '#2c2e33',
          subtle: '#1a1b1e',
          hover: '#2e3035',
        },
      },
      foreground: {
        text: {
          primary: '#e4e5e7',
          secondary: '#9ca3af',
          tertiary: '#6b7280',
        },
      },
      audio: {
        clip: {
          blue: {
            header: '#84B5FF',
            headerHover: '#66A3FF',
            body: '#A2C7FF',
            headerSelected: '#DEEBFF',
            headerSelectedHover: '#F2F7FF',
            bodySelected: '#C0D9FF',
          },
          violet: {
            header: '#ADABFC',
            headerHover: '#9996FC',
            body: '#C1BFFE',
            headerSelected: '#E9E8FF',
            headerSelectedHover: '#F7F6FF',
            bodySelected: '#D5D3FE',
          },
          // Add more clip colors...
        },
      },
    };

    let currentTheme = 'light';

    window.switchTheme = function(theme) {
      currentTheme = theme;
      document.querySelectorAll('.theme-btn').forEach(btn => {
        btn.classList.toggle('active', btn.textContent.toLowerCase().includes(theme));
      });
      renderContent();
    };

    function renderContent() {
      const theme = currentTheme === 'light' ? lightTheme : darkTheme;
      document.body.style.background = theme.background.surface.default;
      document.body.style.color = theme.foreground.text.primary;

      const content = document.getElementById('content');
      content.innerHTML = `
        <div class="section">
          <h2>Surface Colors</h2>
          <div class="swatches">
            ${renderSwatch('surface.default', theme.background.surface.default)}
            ${renderSwatch('surface.elevated', theme.background.surface.elevated)}
            ${renderSwatch('surface.subtle', theme.background.surface.subtle)}
            ${renderSwatch('surface.hover', theme.background.surface.hover)}
            ${renderSwatch('canvas.default', theme.background.canvas.default)}
          </div>
        </div>

        <div class="section">
          <h2>Text Colors</h2>
          <div class="swatches">
            ${renderSwatch('text.primary', theme.foreground.text.primary)}
            ${renderSwatch('text.secondary', theme.foreground.text.secondary)}
            ${renderSwatch('text.tertiary', theme.foreground.text.tertiary)}
          </div>
        </div>

        <div class="section">
          <h2>Border Colors</h2>
          <div class="swatches">
            ${renderSwatch('border.default', theme.border.default)}
            ${renderSwatch('border.onElevated', theme.border.onElevated)}
            ${renderSwatch('border.onSurface', theme.border.onSurface)}
          </div>
        </div>

        <div class="section">
          <h2>Button Colors</h2>
          <h3>Secondary Button</h3>
          <div class="swatches">
            ${renderSwatch('secondary.idle', theme.background.control.button.secondary.idle)}
            ${renderSwatch('secondary.hover', theme.background.control.button.secondary.hover)}
            ${renderSwatch('secondary.active', theme.background.control.button.secondary.active)}
          </div>
          <h3>Ghost Button</h3>
          <div class="swatches">
            ${renderSwatch('ghost.idle', theme.background.control.button.ghost.idle)}
            ${renderSwatch('ghost.hover', theme.background.control.button.ghost.hover)}
            ${renderSwatch('ghost.active', theme.background.control.button.ghost.active)}
          </div>
        </div>

        <div class="section">
          <h2>Control Colors</h2>
          <h3>Slider</h3>
          <div class="swatches">
            ${renderSwatch('slider.track', theme.background.control.slider.track)}
            ${renderSwatch('slider.handle.bg', theme.background.control.slider.handle.background)}
            ${renderSwatch('slider.handle.border', theme.background.control.slider.handle.border)}
          </div>
          <h3>Pan Knob</h3>
          <div class="swatches">
            ${renderSwatch('panKnob.face', theme.background.control.panKnob.face)}
            ${renderSwatch('panKnob.border', theme.background.control.panKnob.border)}
            ${renderSwatch('panKnob.gauge', theme.background.control.panKnob.gauge)}
          </div>
        </div>

        <div class="section">
          <h2>Timeline Colors</h2>
          <div class="swatches">
            ${renderSwatch('timeline.tickMajor', theme.audio.timeline.tickMajor)}
            ${renderSwatch('timeline.tickMinor', theme.audio.timeline.tickMinor)}
          </div>
        </div>

        <div class="section">
          <h2>Clip Colors (Sampled)</h2>
          ${renderClipColors(theme.audio.clip)}
        </div>
      `;
    }

    function renderSwatch(label, color) {
      return `
        <div class="swatch">
          <div class="swatch-color" style="background-color: ${color}"></div>
          <div class="swatch-label">${label}</div>
          <div class="swatch-value">${color}</div>
        </div>
      `;
    }

    function renderClipColors(clipColors) {
      return Object.entries(clipColors).map(([name, states]) => `
        <div class="clip-colors">
          <div class="clip-color-name">${name}</div>
          <div class="clip-swatches">
            ${Object.entries(states).map(([stateName, color]) => `
              <div class="clip-swatch">
                <div class="clip-swatch-color" style="background-color: ${color}"></div>
                <div class="clip-swatch-label">${stateName}</div>
                <div class="swatch-value">${color}</div>
              </div>
            `).join('')}
          </div>
        </div>
      `).join('');
    }

    // Initial render
    renderContent();
  </script>
</body>
</html>
